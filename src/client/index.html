<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EMCommTest - Earth-Mars Communication Simulation</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Remove or update integrity attribute if incorrect -->
    <script src="https://cdn.socket.io/4.4.1/socket.io.min.js" integrity="" crossorigin="anonymous"></script>
    <script src="time.js" defer></script>
    <script src="main.js" defer></script>
</head>
<body>
<div class="container">
    <header>
        <div class="time-display">
            <div id="earth-time">Earth Time: Loading...</div>
            <div id="mars-time">Mars Time: Loading...</div>
        </div>
    </header>
    <h1>EMCommTest</h1>
    <div class="introduction">
        <h3>Welcome to EMCommTest</h3>
    </div>
    <div id="status">Connecting...</div>

    <!-- Simulation Controls -->
    <div class="simulation-controls">
        <h2>Simulation Settings</h2>
        <label for="latency">Latency (ms):</label>
        <input type="number" id="latency" min="0" max="3000000" step="1000" value="60000">
        <label for="bandwidth">Bandwidth (kbps):</label>
        <input type="number" id="bandwidth" min="1" max="1000000" step="1000" value="4000">

        <!-- Destination Selector -->
        <label for="destination">Destination:</label>
        <select id="destination">
            <option value="Mars">Mars</option>
            <option value="Moon">Moon</option>
            <option value="Earth">Earth</option>
        </select>

        <button id="apply-settings">Apply Settings</button>
    </div>

    <!-- Text Message Section -->
    <div class="text-message-section">
        <h2>Send Text Message</h2>
        <div class="form">
            <input type="text" id="message" placeholder="Enter message">
            <button id="send">Send</button>
        </div>

        <p>
            EMCommTest offers an interactive experience simulating communication between Earth and Mars.</p>
        a Mars' day, known as a 'sol', is approximately 24 hours, 39 minutes, and 35.244 seconds long, making it about 40 minutes longer than an Earth day. </p>
        This simulation takes this difference into account, providing a realistic view of how time is managed across planets.
        </p>
        <p>
            <strong>How Time Synchronization Works:</strong><br>
            To simplify the concept of syncing time between Earth and Mars:
        </p>
        <ul>
            <li>
                <strong>Break Period:</strong> Imagine every Earth day at midnight UTC, there's a "break period" lasting 40 minutes. During this time, while Earth time essentially pauses, Mars time continues. This simulates how Mars' time runs ahead of Earth's each day due to its longer sol.
            </li>
            <li>
                <strong>Synchronization:</strong> After this break period, Mars time has moved ahead by 40 minutes. By adding this time difference to communications, we simulate how Mars and Earth can align their daily cycles despite the difference in day length.
            </li>
            <li>
                <strong>User Experience:</strong> You'll see the time on Mars displayed in our simulation, which will reflect this synchronization. This not only shows the time difference but also how communication delays are affected by this offset.
            </li>
        </ul>
        <p>
            Explore how daily communication might be scheduled in a Martian colony, considering these unique timekeeping challenges. This simulation simplifies real-world complexities to provide an educational insight into interplanetary time management.
        </p>


        <progress id="messageProgressBar" value="0" max="100"></progress>
        <div id="response">Waiting for response...</div>
        <div id="messageStats"></div>
    </div>


    <!-- Image Transfer Section -->
    <div class="image-transfer-section">
        <h2>Transfer Image</h2>
        <div id="imagePreview">
            <h3>Image to Send:</h3>
            <img src="images/dogmeme.png" alt="Dog Meme" id="imageToSend">
        </div>
        <button id="send-image">Send Image to Destination</button>
        <progress id="imageProgressBar" value="0" max="100"></progress>
        <div id="imageStatus">Waiting to send image...</div>
        <div id="receivedImageContainer"></div>
    </div>
</div>
<script src="main.js"></script>
</body>
</html>